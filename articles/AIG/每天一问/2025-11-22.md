åœ¨ Windows æˆ– Linux ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æŸ¥è¯¢ **cloudflared**ï¼ˆCloudflare Tunnel å®¢æˆ·ç«¯ï¼‰çš„è¿è¡ŒçŠ¶æ€ï¼š

---

## ğŸ§© ä¸€ã€æŸ¥çœ‹ cloudflared è¿›ç¨‹æ˜¯å¦è¿è¡Œ

### âœ… Windows

æ‰“å¼€ PowerShell æˆ– CMDï¼š

```bash
tasklist | findstr cloudflared
```

å¦‚æœè¿”å›ç±»ä¼¼ï¼š

```
cloudflared.exe          1234 Console             1     24,000 K
```

è¯´æ˜æœåŠ¡æ­£åœ¨è¿è¡Œã€‚

---

### âœ… Linux / macOS

```bash
ps aux | grep cloudflared
```

è‹¥è¾“å‡ºä¸­å«æœ‰ `/usr/local/bin/cloudflared` æˆ– `cloudflared tunnel run` å³ä¸ºè¿è¡Œä¸­ã€‚

---

## ğŸ§© äºŒã€æŸ¥çœ‹ cloudflared æœåŠ¡çŠ¶æ€ï¼ˆsystemdï¼‰

å¦‚æœä½ æ˜¯ä»¥ **systemd æœåŠ¡**æ–¹å¼è¿è¡Œçš„ï¼š

```bash
sudo systemctl status cloudflared
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
â— cloudflared.service - Argo Tunnel
   Loaded: loaded (/etc/systemd/system/cloudflared.service; enabled)
   Active: active (running) since Tue 2025-10-14 09:01:32 CST; 1h 22min ago
 Main PID: 1234 (cloudflared)
```

çŠ¶æ€å­—æ®µï¼š

* **active (running)**ï¼šè¿è¡Œä¸­
* **inactive (dead)**ï¼šå·²åœæ­¢
* **failed**ï¼šå¯åŠ¨å¤±è´¥

---

## ğŸ§© ä¸‰ã€ä½¿ç”¨ cloudflared è‡ªå¸¦å‘½ä»¤æ£€æŸ¥çŠ¶æ€

### ğŸ” 1. æŸ¥çœ‹å·²æ³¨å†Œçš„éš§é“åˆ—è¡¨

```bash
cloudflared tunnel list
```

ç¤ºä¾‹è¾“å‡ºï¼š

```
NAME           UUID                                  STATUS
my-tunnel      3e3f7e9a-1b44-4d99-93c3-90f5c38e3a15  healthy
```

`STATUS = healthy` è¡¨ç¤ºéš§é“è¿æ¥æ­£å¸¸ã€‚

---

### ğŸ” 2. æ£€æŸ¥å•ä¸ªéš§é“çŠ¶æ€

```bash
cloudflared tunnel info my-tunnel
```

è¾“å‡ºä¼šåŒ…å«ï¼š

* è¿æ¥çŠ¶æ€ï¼ˆconnected / disconnectedï¼‰
* å½“å‰å…¬ç½‘åŸŸåï¼ˆ`<uuid>.cfargotunnel.com`ï¼‰
* æ´»è·ƒè¿æ¥èŠ‚ç‚¹æ•°ï¼ˆActive connectionsï¼‰

---

## ğŸ§© å››ã€æŸ¥çœ‹æ—¥å¿—

### Windowsï¼š

```bash
type "C:\ProgramData\Cloudflare\cloudflared\service.log"
```

### Linuxï¼š

```bash
sudo journalctl -u cloudflared -f
```

ï¼ˆ`-f` è¡¨ç¤ºå®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼‰

---

## ğŸ§© äº”ã€ç½‘ç»œéªŒè¯æ–¹å¼ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³éªŒè¯ Tunnel æ˜¯å¦çœŸçš„èƒ½è®¿é—®ï¼š

```bash
curl -I https://<your-tunnel-name>.trycloudflare.com
```

è¿”å› `HTTP/2 200` è¡¨ç¤ºéš§é“å·²å»ºç«‹ã€‚

---

æ˜¯å¦è¦æˆ‘å¸®ä½ çœ‹ä¸‹ã€Œå¦‚æœ cloudflared æ˜¾ç¤º failed / disconnectedã€æ—¶çš„å¸¸è§åŸå› å’Œä¿®å¤æ­¥éª¤ï¼Ÿ
