# 系统环境变量设置 & 监控安装记录

下面是 **在 Windows 系统中添加环境变量** 的所有常用方式（图形界面 + 命令行），你可以任选一种。

---

# ✅ **方法一：图形界面（最常用）**

### 1. 打开系统环境变量设置

按下快捷键：

```
Win + R → 输入 sysdm.cpl → 回车
```

或者：

**开始菜单 → 搜索 “环境变量” → 编辑系统环境变量**

---

### 2. 在“系统属性”→“高级”标签页

点击底部按钮：

```
环境变量(N)...
```

---

### 3. 在“环境变量”窗口中添加

你可以选择：

* **用户变量**（只对当前用户有效）
* **系统变量**（全局生效，需要管理员权限）

### 4. 点击“新建…”

输入：

* **变量名**
* **变量值**

例如：

```
变量名：JAVA_HOME
变量值：C:\Program Files\Java\jdk-17
```

点击 **确定** 即可。

---

# ✅ **方法二：命令行设置（CMD）**

### 临时环境变量（只在当前 CMD 会话有效）

```
set MY_VAR=hello
```

### 永久环境变量

```
setx MY_VAR "hello world"
```

设置系统级变量（需要管理员 CMD）：

```
setx MY_VAR "hello world" /M
```

⚠ 注意：
`setx` 的值长度限制为 1024 字节，且不会影响当前正在运行的进程。

---

# ✅ **方法三：使用 PowerShell**

### 设置用户级环境变量

```powershell
[Environment]::SetEnvironmentVariable("MY_VAR", "hello", "User")
```

### 设置系统级环境变量

（需管理员 PowerShell）

```powershell
[Environment]::SetEnvironmentVariable("MY_VAR", "hello", "Machine")
```

### 设置进程临时变量

```powershell
$env:MY_VAR="hello"
```

---

# 🔄 **方法四：刷新环境变量（无需重启）**

当使用 `setx` 或 GUI 添加变量后，新的应用程序可以读取，但已经打开的窗口不行。

如果你想让当前 CMD 立即读取新变量，你可以重启 CMD 或执行：

```powershell
refreshenv
```

（如果已安装 Chocolatey）

---

# 🎯 如果你告诉我你要添加哪个变量，我可以给你一条直接可用的命令。

例如：

* 添加 PATH 路径
* 添加 Java / Python / Go 环境变量
* 添加你的监控脚本路径


## [服务安装位置](https://nssm.cc/usage)
